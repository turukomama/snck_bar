import timedate
 
class CheckTime:
    def __init__(self):
        self.time = timedate.timedate.now()
        self.greeting = "こんにちは"
 
    def time_update(self):
        self.time = timedate.timedate.now()
 
 
    def get_greeting(self):
 
        if self.time.hour > 18:
            greeting = "開店"
        elif self.time.hour > 1:
            greeting = "閉店"
        else:
            greeting = "準備中"
 
        self.greeting = greeting
        return greeting



        
    # おはよう という文字を検知したら処理を開始
    if 'おはよう' in data['text']:
        # 文字を検知したチャネルを取得
        channel_id = data['channel']
        # 投稿したユーザーを取得
        user = data['user']
        # 文字を検知したチャネルにメッセージを投稿
        web_client.chat_postMessage(
            channel=channel_id,
            # 投稿したユーザーにメンション
            text=f"""
                 <@{user}>準備中だよ!
            """
        )   